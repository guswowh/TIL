# javaScript 파슬 번들러(parcel-bundler)

<br />

## 번들러(Bundler)
개발에 필요한 페키지들을 브라우저 환경에 맞게 변환 해준다.

<br />

## 파슬 번들러(parcel-bundler)
구성 없는 단순한 자동 번들링(소/중형 프로젝트에 적합)  

<br />

## 프로젝트 생성

  - 페키지 설치

    > 터미널
    ```bash
    npm i -D parcel-bundler
    ```

  - 명령 추가

    > package.json
    ```json
    "scripts": {
      "dev": "parcel index.html",
      "build": "parcel build index.html"
    }
    ```

  - 개발서버 열기

    > 터미널
    ```
    npm run dev
    ```

<br />

## 정적 파일 연결

> [플러그인 설치 가이드 →](https://www.npmjs.com/package/parcel-plugin-static-files-copy)

  - 개발서버가 열려 있으면 종료

    > 터미널
    ```bash
    ⌃c
    ```

  - 플러그인 설치

    > 터미널
    ```bash
    npm install -D parcel-plugin-static-files-copy
    ```

  - 명령 추가

    > package.json
    ```json
    "staticFiles": {
      "staticPath": "static"
    }
    ```

  - 폴더 생성 후 파일 추가

    > ./static/파일명.확장자

    <br />

  - 개발 서버 열기
    > 터미널
    ```bash
    npm run dev
    ```

<br />

## autoprefixer 연결 순서

css 표준 기술이 동작하지 않은 구형 브라우저에도 동작이 가능하도록  
  자동으로 공급 업체 접두사(Vender prefix)를 붙여주는 페키지  

  <br />

- 페키지 설치

  > 터미널
  ```bash
  npm i -D postcss autoprefixer
  ```

- 페키지 설치 확인

  > package.json
  ```json
  "devDependencies": {
    "autoprefixer": "^2.6.0",
    "postcss": "^8.2.8"
  }
  ```

- 명령 추가
  > package.json
  ```json
  "browserslist": {
    "> 1%",
    "last 2 bersions"
  }
  ```
  코드 | 설명
  --|--
  "> 1%" | 전세계 점유율이 1% 이상인 모든 브라우저
  "last 2 bersions" | 2개의 버전 지원
  <br />

- 파일생성
  > .postcssrc.js
    - 뒤에 rc(Runtime Configuration의 약어)가 붙은 구성 파일을 의미
    - 앞에 .이 붙은 구성 파일이나 숨김파일을 의미  
    <br />

- 외부에서 자바스크립트 파일 가져오기
  > .postcssrc.js
  ```js
  //ESM : node.js는 ESM문법은 지원하지 않는다 import, export 키워드 사용 안됨
  //CommonJS : node.js는 CommonJS 문법을 지원한다.
  
  // module.exports 명령어로 파일 내보내기
  module.exports = { 
    plugins: [
      // require 명령어로 자바스크립트 파일을 외부에서 가져오기
      require('autoprefixer') 
    ]
  }
  ```

  > (6) 터미널
  ```bash
  npm run dev
  ```

<br />

## Babel
자바스크립트 ES5 이후에 나온 버전을 하위 호환을 위해  
이전 자바스크립트 언어로 변환 해주는 컴파일러

  - 컴파일러 설치

    > 터미널
      ```bash
      npm i -D @babel/core @babel/preset-env
      ```

  - 파일생성
    > ./.babelrc.js

  - 모듈 내보내기
    > .babelrc.js
      ```js
      module.exports = {
        presets: ['@babel/preset-env']
      }
      ```
    > (4) package.json : 세팅
      ```json
      "browserslist": {
        "> 1%",
        "last 2 bersions"
      }
      ```
      코드 | 설명
      --|--
      "> 1%" | 전세계 점유율이 1% 이상인 모든 브라우저
      "last 2 bersions" | 2개의 버전 지원
      <br />
  - 플러그인 설치
    > 터미널
      ```bash
      npm i -D @babel/plugin-transform-runtime
      ```
      - : 자바스크립트 async await 패턴을 사용가능하게 하는 플러그인  
      <br />

  - 실행 테스트
    > js/main.js
      ```js
      console.log("Hello Parcel!")

      async function test() {
        const promise = promise.resolve(123)
        console.log(await promise)
      }

      test()
      ```
    > ./.babelrc.js
      ```js
      module.exports = {
        presets: ['@babel/preset-env']
        plugins: [ // 추가
          ["@babel/plugin-transform-runtime"]
        ]
      },
      ```
  - 개발 서버 열기
    > 터미널
      ```bash
      npm run dev
      ```

<br />

## CLI(Command Line Interface)
  - 터미널을 통해 문자로 사용자와 컴퓨터가 상호 작용하는 방식

  > [공식문서](https://ko.parceljs.org/cli.html)